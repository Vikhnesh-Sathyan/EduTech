

<!-- File Upload Section -->
<form (ngSubmit)="onSubmit()" #fileUploadForm="ngForm">
    <h3>Upload Files:</h3>
    <input type="file" (change)="onFileChange($event)" multiple />
    <div *ngIf="fileError" class="error">{{ fileError }}</div> <!-- Show file validation error -->
    <button type="submit" [disabled]="!uploadedFiles.length || !selectedClass">Upload Files</button>
</form>

<!-- Add Website Link Section -->
<div>
    <h3>Add Website Link:</h3>
    <input 
        type="text" 
        [(ngModel)]="siteLink" 
        name="siteLink" 
        placeholder="Enter website URL" 
        required 
        pattern="https?://.+"     
        #siteInput="ngModel" 
    />
    <button (click)="addSiteLink()" [disabled]="siteInput.invalid || !selectedClass">Add Link</button>
    <div *ngIf="siteInput.invalid && siteInput.touched" class="error">Please enter a valid URL</div> <!-- URL validation message -->
</div>

<!-- Add Video Link Section -->
<div>
    <h3>Add Video Link:</h3>
    <input 
        type="text" 
        [(ngModel)]="videoLink" 
        name="videoLink" 
        placeholder="Enter video URL" 
        required 
        pattern="https?://.+"  
        #videoInput="ngModel" 
    />
    <button (click)="addVideoLink()" [disabled]="videoInput.invalid || !selectedClass">Add Link</button>
    <div *ngIf="videoInput.invalid && videoInput.touched" class="error">Please enter a valid video URL</div> <!-- Video URL validation message -->
</div>

<!-- Uploaded Files and Links Section -->
<div *ngIf="uploadedFiles.length">
    <h3>Uploaded Files and Links:</h3>
    <ul>
        <li *ngFor="let file of uploadedFiles; let i = index">
            <ng-container [ngSwitch]="file.type">
                <img *ngSwitchCase="'image/png'" [src]="file.url" alt="Image" width="100" />
                <img *ngSwitchCase="'image/jpeg'" [src]="file.url" alt="Image" width="100" />
                <audio *ngSwitchCase="'audio/mpeg'" [src]="file.url" controls></audio>
                <video *ngSwitchCase="'video/mp4'" [src]="file.url" controls width="200"></video>
                <a *ngSwitchCase="'application/pdf'" [href]="file.url" target="_blank">View PDF</a>
                <a *ngSwitchCase="'website'" [href]="file.url" target="_blank">{{ file.name }}</a>
                <a *ngSwitchCase="'video_link'" [href]="file.url" target="_blank">{{ file.name }}</a>
                <span *ngSwitchDefault>{{ file.name }}</span>
            </ng-container>
            <button (click)="deleteFile(i)">Delete</button> <!-- Confirmation dialog on delete -->
        </li>
    </ul>
</div>
<div><h3>Select Class:</h3>
    <select [(ngModel)]="selectedClass" name="class" required>
        <option value="">Select a class</option>
        <option value="8">8th Standard</option>
        <option value="9">9th Standard</option>
        <option value="10">10th Standard</option>
        <option value="11">11th Standard</option>
        <option value="12">12th Standard</option>
    </select></div>
    
<!-- Success/Error Messages -->
<div *ngIf="successMessage" class="success">{{ successMessage }}</div>
<div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
